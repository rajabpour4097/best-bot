# ๐ง ุฑูุน ูุดฺฉู Legs Detection ุจุฑุง USDJPY

## ๐จ ูุดฺฉู ุงุตู:
ุชูุธูุงุช `threshold` ุฏุฑ ุฑุจุงุช ุจุฑุง ููุงุฏ EURUSD (5 digits) ุทุฑุงุญ ุดุฏู ุจูุฏุ ุงูุง ุจุฑุง USDJPY (3 digits) ููุงุณุจ ูุจูุฏ.

## ๐ ุชุญูู ูุดฺฉู:

### EURUSD vs USDJPY:
- **EURUSD**: 5 digits (1.23456), Point = 0.00001
- **USDJPY**: 3 digits (146.789), Point = 0.001

### ุขูุงุฑ ููุช USDJPY:
- ูุงูฺฏู ุชุบุฑ ููุช: **166.3 points**
- ุญุฏุงฺฉุซุฑ ุชุบุฑ: **690.0 points**
- ูุงูฺฏู ููุณุงู ฺฉูุฏู: **390.4 points**
- Threshold ูุจู: **6 points** โ (ุฎู ฺฉู)

## โ ุฑุงูโุญู ุงุนูุงูโุดุฏู:

### 1. ุชุบุฑ Threshold:
```python
# ูุจู ุงุฒ ุชุบุฑ:
'threshold': 6,  # ุจุฑุง EURUSD

# ุจุนุฏ ุงุฒ ุชุบุฑ:
'threshold': 50,  # ุจุฑุง USDJPY
```

### 2. ูุชุงุฌ ุชุณุช ุจุง Threshold ุฌุฏุฏ:
- **Threshold 15**: 3 legs ุดูุงุณุง ุดุฏ โ
- **Threshold 20**: 3 legs ุดูุงุณุง ุดุฏ โ  
- **Threshold 50**: 8 legs ุดูุงุณุง ุดุฏ โโ

## ๐งช ูุชุงุฌ ุชุณุชโูุง:

### โ ุชุณุช Legs Detection:
```
Using threshold: 50
len(data): 200
First len legs: 8  โ ูููู! (ูุจูุงู 0 ุจูุฏ)
```

### โ ุชุณุช Complete Workflow:
```
โ Found 8 legs
๐ Last 3 legs:
   Leg 1: Direction: down, Length: 240.0 points
   Leg 2: Direction: up, Length: 170.0 points  
   Leg 3: Direction: down, Length: 580.0 points
```

## ๐ก ุชูุถุญุงุช ูู:

### ฺุฑุง Threshold ููู ุงุณุชุ
- Threshold ุญุฏุงูู ุชุบุฑ ููุช ุจุฑุง ุชุดฺฉู ฺฉ Leg ุงุณุช
- ุจุฑุง ููุงุฏูุง 3 ุฑูู (JPY pairs) ุจุงุฏ ุจุฒุฑฺฏุชุฑ ุจุงุดุฏ
- ุจุฑุง ููุงุฏูุง 5 ุฑูู (EUR, GBP pairs) ุจุงุฏ ฺฉูฺฺฉุชุฑ ุจุงุดุฏ

### ูุฑููู ูุญุงุณุจู:
```
price_diff = abs(current_price - start_price) * 10000
```
ุงู ูุฑููู ุจุฑุง ููู ููุงุฏูุง ฺฉุณุงู ุงุณุชุ ุงูุง ููุงุณ ููุชโูุง ูุชูุงูุช ุงุณุช.

## ๐ฏ ูุถุนุช ูุนู:

### โ ูุดฺฉู ุจุฑุทุฑู ุดุฏู:
- Legs detection ฺฉุงุฑ ูโฺฉูุฏ
- ุฑุจุงุช ุจู ุฏุฑุณุช 8 legs ุชุดุฎุต ูโุฏูุฏ
- ุขูุงุฏู ุจุฑุง swing detection

### ๐ ูุฑุญูู ุจุนุฏ:
- Swing patterns ุจุงุฏ ุทุจุน ุดฺฉู ุจฺฏุฑูุฏ
- Fibonacci levels ูุญุงุณุจู ุฎูุงูุฏ ุดุฏ
- Entry signals ุชููุฏ ุฎูุงูุฏ ุดุฏ

## โ๏ธ ุชูุธูุงุช ููุง ุจุฑุง USDJPY:
```python
MT5_CONFIG = {
    'symbol': 'USDJPY',        # โ
    'threshold': 50,           # โ Adjusted for 3 digits
    'lot_size': 0.01,         # โ
    'win_ratio': 1.2,         # โ
}
```

## ๐ ูุชุฌู:
**ูุดฺฉู legs detection ุจุฑุง USDJPY ฺฉุงููุงู ุญู ุดุฏู ู ุฑุจุงุช ุขูุงุฏู ุงุณุชูุงุฏู ุงุณุช!**
